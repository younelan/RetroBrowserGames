<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Civilization - Empire Builder</title>
    <link rel="stylesheet" href="main.css?v=2.2">
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&family=Outfit:wght@300;400;600;800&display=swap"
        rel="stylesheet">

    <!-- Three.js import map for ES modules -->
    <script type="importmap">
    {
        "imports": {
            "three": "https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.module.js",
            "three/addons/": "https://cdn.jsdelivr.net/npm/three@0.160.0/examples/jsm/"
        }
    }
    </script>
</head>

<body>
    <div id="playable-area">
        <canvas id="game-canvas"></canvas>

        <div id="ui-layer">
            <!-- Top Status Bar -->
            <div id="hud" class="glass-panel">
                <div class="civ-info">
                    <span id="civ-name">PRIME EMPIRE</span>
                    <span id="game-year">4000 BC</span>
                </div>
                <div class="stats-group">
                    <div class="stat" title="Gold"><span class="icon">üí∞</span> <span id="stat-gold">0</span> <span
                            class="rate">(+0)</span></div>
                    <div class="stat" title="Science"><span class="icon">üî¨</span> <span id="stat-science">0</span>
                        <span class="rate">(+0)</span>
                    </div>
                    <div class="stat" title="Happiness"><span class="icon">üòä</span> <span id="stat-happiness">10</span>
                    </div>
                    <div class="stat" title="Culture"><span class="icon">üé≠</span> <span id="stat-culture">0</span>
                    </div>
                    <div class="stat" title="Strategic Resources"><span class="icon">‚öîÔ∏è</span> <span
                            id="stat-resources">0</span></div>
                </div>
                <div class="turn-group">
                    <div class="stat"><span class="icon">üìÖ</span> <span id="stat-turn">Turn 1</span></div>
                </div>
            </div>

            <!-- Bottom Left: Unit/City Selection Detail -->
            <div id="selection-pane" class="glass-panel hidden">
                <div class="pane-header">
                    <div id="selection-icon">üë§</div>
                    <div class="pane-title-group">
                        <div id="selection-header">Unit Name</div>
                        <div id="selection-sub">Player One</div>
                    </div>
                    <button id="next-unit-inline-btn" class="premium-btn" title="Next Unit (N)">‚ñ∂ NEXT</button>
                </div>
                <div id="selection-stats" class="stats-grid"></div>
                <div id="selection-actions" class="actions-grid"></div>
            </div>

            <!-- Notifications -->
            <div id="notifications"></div>

            <!-- Cities Side Panel -->
            <div id="cities-panel" class="glass-panel">
                <div class="panel-header">CITIES</div>
                <div id="city-list"></div>
            </div>

            <!-- Research Tracker Overlay -->
            <div id="research-tracker" class="glass-panel">
                <div class="tracker-header">RESEARCHING: <span id="current-tech-name">None</span></div>
                <div class="progress-bar-container">
                    <div id="tech-progress-bar" class="progress-bar"></div>
                </div>
            </div>

            <!-- Mini-map -->
            <div id="minimap-container" class="glass-panel">
                <div class="minimap-top-controls">
                    <button id="help-btn" class="premium-btn help-icon-btn">?</button>
                    <button id="end-turn-btn" class="premium-btn primary end-turn-btn">END TURN</button>
                </div>
                <canvas id="minimap-canvas" width="240" height="180"></canvas>
                <div class="auto-play-controls">
                    <label class="auto-play-label">
                        <input type="checkbox" id="auto-play-checkbox">
                        <span>AUTO</span>
                    </label>
                </div>
            </div>

            <!-- Tooltip -->
            <div id="tooltip" class="glass-panel"></div>
        </div>

        <!-- Overlays -->
        <div id="modal-overlay" class="hidden">
            <div id="tech-tree-modal" class="glass-panel modal">
                <header>
                    <h2>Technology Tree</h2>
                    <button class="close-modal">√ó</button>
                </header>
                <div class="modal-content">
                    <div id="modal-content-body"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script type="module" src="main.js"></script>
</body>

</html>